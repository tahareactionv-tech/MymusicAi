name: Android CI

on:<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8" />
<title>AI Assistant</title>
<style>
    body { font-family: Arial; background: #f0f0f0; padding: 30px; }
    #chat { width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
    .msg { margin: 10px 0; }
    .user { text-align: right; color: blue; }
    .bot  { text-align: left; color: green; }
</style>
</head>

<body>

<div id="chat">
    <h2>AI Assistant</h2>
    <div id="messages"></div>

    <textarea id="input" rows="3" style="width:100%;"></textarea>
    <button onclick="sendMessage()">Send</button>
</div>

<script>
const API_KEY = "YOUR_OPENAI_API_KEY";  // ← अपनी API Key डालें

async function sendMessage() {
    let text = document.getElementById("input").value;
    if (!text) return;

    addMessage("user", text);
    document.getElementById("input").value = "";

    let reply = await generateAI(text);
    addMessage("bot", reply);
}

function addMessage(type, text) {
    let box = document.getElementById("messages");
    let div = document.createElement("div");
    div.className = "msg " + type;
    div.innerText = text;
    box.appendChild(div);
    box.scrollTop = box.scrollHeight;
}

async function generateAI(prompt) {
    try {
        let res = await fetch("https://api.openai.com/v1/chat/completions", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": "Bearer " + API_KEY
            },
            body: JSON.stringify({
                model: "gpt-4o-mini",
                messages: [{ role: "user", content: prompt }]
            })
        });

        let data = await res.json();
        return data.choices[0].message.content;
    } catch (error) {
        return "Error: " + error.toString();
    }
}
</script>

</body>
</html>
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - name: set up JDK 11
      uses: actions/setup-java@v4
      with:
        java-version: '11'
        distribution: 'temurin'
        cache: gradle

    - name: Grant execute permission for gradlew
      run: chmod +x gradlew
    - name: Build with Gradle
      run: ./gradlew build
